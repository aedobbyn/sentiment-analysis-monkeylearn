unnamed-chunk-1	library	here	tidyverse	rvest	monkeylearn	glue	knitr	dobtools	tidytext
source_in	all_reviews_slack	read_csv	here	reviews_with_subratings_nested	reviews_with_subratings_unnested	data_dir	glue	dat	read_rds
unnamed-chunk-2	paths_allowed
unnamed-chunk-3	slack_url
unnamed-chunk-4	strip_whitespace_newlines	out	t	%>%	str_replace_all	trimws	return
unnamed-chunk-5	pages_want	slack_full_urls	str_c
unnamed-chunk-6	scrape_rating	out	url	%>%	read_html	html_nodes	glue	html_text	strip_whitespace_newlines	length	return	try_scrape_rating	possibly
unnamed-chunk-7	scrape_sub_ratings	out	url	%>%	read_html	html_nodes	glue	html_text	str_c	strip_whitespace_newlines	length	return	scrape_content
unnamed-chunk-8	try_scrape_sub_ratings	possibly	scrape_sub_ratings	try_scrape_content	scrape_content
unnamed-chunk-9	try_scrape_content	slack_full_urls
unnamed-chunk-10	get_ratings_and_content	data_dir	ifelse	sleep	out	tibble	page	str_detect	url	ex_between	i	review_range	message	glue	this_rating	try_scrape_rating	this_sub_ratings	try_scrape_sub_ratings	this_cont	try_scrape_content	this_review	write_out	write_rds	%>%	bind_rows	Sys.sleep	runif	rowwise	mutate	is.na	rating	parse	eval	as.character	select	page_num	review_num	sub_ratings	rating_perc	content	return
unnamed-chunk-11	get_multiple_pages	out	tibble	u	urls	this_page	get_ratings_and_content	review_range	...	%>%	bind_rows	return
unnamed-chunk-12	all_reviews_slack	slack_full_urls	%>%	get_multiple_pages
unnamed-chunk-13	all_reviews_slack	%>%	head	kable
unnamed-chunk-14	make_files	a	glue	data_dir	out	i	page_range	b	c	%>%	map_chr	str_c	return	fls	pages_want
unnamed-chunk-15	all_reviews_slack	map_dfr	fls	read_rds	%>%	unnest	page_num	drop_na	content
unnamed-chunk-16	clean_content	out	t	%>%	str_replace_all	return
unnamed-chunk-17	split_subratings	is.na	inp	out	tibble	return	subrating_rating	%>%	str_extract_all	map	str_replace_all	as_vector	subrating_title	str_split	length
unnamed-chunk-18	reviews_with_subratings	all_reviews_slack	%>%	rowwise	mutate	split_subratings	sub_ratings	list	select	drop_na	content	filter	%in%	c	as.numeric	page_num	reviews_with_subratings_unnested	unnest	rename	names	nums	arrange	review_num	sub_rating_category
unnamed-chunk-19	reviews_with_subratings_unnested	%>%	slice	kable
unnamed-chunk-20	replacement_classifier	tribble	category_id	probability	label	%>%	list	replacement_extractor	count	tag	entity
unnamed-chunk-21	unnest_result_classifier	out	df	%>%	rowwise	mutate	ifelse	length	res	is.na	replacement_classifier	unnest	return	unnest_result_extractor	map	replace_x	replacement_extractor	try_unnest_result_extractor	safely	try_unnest_result_classifier
unnamed-chunk-22	get_classification_batch	safely	monkey_classify	get_extraction_batch	monkey_extract
sample_ratings_scraped	get_ratings_and_content	slack_full_urls
unnamed-chunk-23	safe_return	%>%	get_classification_batch
unnamed-chunk-24	write_batches	substr	id	type_of_problem	stop	resp	tibble	n_df_rows	nrow	df	batch_start_row	start_row	batch_end_row	n_texts_per_batch	error_log	this_batch_nested	get_classification_batch	content	unnest	this_batch	result	%>%	try_unnest_result_classifier	get_extraction_batch	try_unnest_result_extractor	message	glue	is.null	error	write_out	write_csv	bind_rows	c	out	list	return
unnamed-chunk-25	write_extraction_batches	opinion_batches_dir	write_batches	df	extractor_id	n_texts_per_batch	dir	...	write_classification_batches	topic_batches_dir	topic_id
unnamed-chunk-26	reviews_with_subratings_nested	%>%	write_extraction_batches	write_classification_batches
unnamed-chunk-27	gather_batches	fls	dir_ls	dir	list_o_batches	map	read_csv	out	%>%	modify_depth	as.character	bind_rows	return
unnamed-chunk-28	reviews_with_subratings_nested	%>%	write_extraction_batches	opinion_batches_extracted	gather_batches	opinion_batches_dir	rename	probability	write_classification_batches	dat	topic_batches_dir
unnamed-chunk-29	dat	%>%	head	kable
unnamed-chunk-30	dat	sentiment	%>%	factor	levels
unnamed-chunk-31	uuids	dat	%>%	arrange	page_num	review_num	nest	doc_identifier	mutate	nrow	.	row_number	select	data	left_join
unnamed-chunk-32	dat	category	%>%	factor	levels
unnamed-chunk-33	probability_cutoff	dat_clean	dat	%>%	filter	is.na	probability_unit	category	probability_sentiment
unnamed-chunk-34	sentiment_breakdown	dat_clean	%>%	group_by	sentiment	count	rename	n	ungroup	mutate	sum	by_sentiment	total	ggplot	geom_bar	aes	sentiment_prop	geom_text	round	scale_y_continuous	percent	ggtitle	labs	theme_bw
unnamed-chunk-35	sentiment_by_category	dat_clean	%>%	group_by	category	summarise	mean	sentiment_num	arrange	desc	mean_sentiment	kable
unnamed-chunk-36	ggplot	sentiment_by_category	geom_bar	aes	fct_reorder	category	mean_sentiment	theme_bw	theme	element_text	ggtitle	labs
unnamed-chunk-37	category_freq	dat_clean	%>%	group_by	category	count	rename	n	ggplot	geom_bar	aes	fct_reorder	n_opinion_units	theme_bw	theme	element_text	ggtitle	labs
unnamed-chunk-38	sentiment_by_category_weighted	sentiment_by_category	%>%	left_join	category_freq	mutate	mean_sentiment	n_opinion_units	arrange	desc	weighted_sentiment	head	kable
unnamed-chunk-39	ggplot	sentiment_by_category_weighted	geom_bar	aes	fct_reorder	category	weighted_sentiment	theme_bw	theme	element_text	ggtitle	labs
unnamed-chunk-40	dat_tokens_unnested	dat_clean	%>%	nest	content	doc_uuid	unnest_tokens	word	anti_join	stop_words	find_nums	filter	contains_num
unnamed-chunk-41	sentiments	%>%	filter	word
unnamed-chunk-42	sentiments	%>%	filter	word
unnamed-chunk-43	dat_tokens_unnested	%>%	select	is_num	contains_num	left_join	sentiments	rename	sentiment	score
unnamed-chunk-44	dat_tokens_unnested_unnested	dat_tokens_unnested	%>%	unnest
unnamed-chunk-45	lm	dat_tokens_unnested_unnested	%>%	drop_na	sentiment_num	score_sentiment	summary	tidy
unnamed-chunk-46	assign_number	length	l	%in%	letters	n	which	try_assign_number	possibly
unnamed-chunk-47	dat_tokens_unnested_first_letter	dat_tokens_unnested	%>%	rowwise	mutate	substr	word	try_assign_number	first_letter
unnamed-chunk-48	ggplot	dat_tokens_unnested_first_letter	geom_smooth	aes	first_letter_num	score_sentiment	geom_hline	mean	labs	ggtitle	theme_bw
unnamed-chunk-49	lm	dat_tokens_unnested_first_letter	%>%	drop_na	first_letter_num	score_sentiment	summary	tidy
unnamed-chunk-50	replace_y	is.null	x	length	replacement
unnamed-chunk-51	category_reg	str_c	dat_clean	category	%>%	tolower	unique
unnamed-chunk-52	search_for	dat_clean	content	word_capped	simple_cap	word	q_col	enquo	col	look_for	ifelse	append_the	glue	out	df	%>%	filter	str_detect	distinct	rowwise	mutate	str_extract	str_extract_all	phrase	category_reg	replace_y	str_c	return
unnamed-chunk-53	search_for	%>%	replace_na_df	head	kable
unnamed-chunk-54	search_for	%>%	drop_na	phrase_categories	replace_na_df	head	kable
unnamed-chunk-55	dat_tokens_unnested_counts	dat_tokens_unnested	%>%	add_count	word	rename	n	group_by	doc_uuid	ungroup
unnamed-chunk-56	dat_tokens_unnested_tfidf	dat_tokens_unnested_counts	%>%	bind_tf_idf	word	doc_uuid	n_words_this_doc
numerise_sentiment	dat	read_rds	here	%>%	rowwise	mutate	switch	sentiment	str_c	review_num	page_num	ungroup
unnamed-chunk-57	dat_tokens_unnested_tfidf	%>%	unnest	group_by	category	filter	tf_idf	max	select	word	word_sentiment	distinct	arrange
unnamed-chunk-58	problem_categories	dat_clean	%>%	filter	category	%in%	c	sentiment
unnamed-chunk-59	pqr_complaints	problem_categories	%>%	mutate	row_number	unnest_tokens	word	content	filter	category	anti_join	stop_words	count
unnamed-chunk-60	pqr_complaints	%>%	filter	word	%in%	c
unnamed-chunk-61	dat_tokens_unnested	%>%	filter	word	%in%	c	group_by	count
